import{u as z,h as te,i as oe,j as M,k as se,P as ae,t as ne,l as le,m as Q,n as A,p as re,w as U,q as o,v as ie,R as P,x as ce,y as ue,z as _e,C as de,A as he,B as me,D as ve,E as ge,F as pe,G as ye,H as fe,I as T,J as O,K as we,L as D,M as Ee}from"./app-CYoCb_9j.js";const Be=["/","/intro.html","/code/","/course/","/machine_learning/","/os/","/software/","/code/front_end/","/code/front_end/projects.html","/code/java/IDEA_common_shortcut_keys.html","/code/java/","/code/java/array.html","/code/java/flow_control_statement.html","/code/java/installation_and_use_of_IDEA(1).html","/code/java/installation_and_use_of_IDEA(2).html","/code/java/java_overview.html","/code/java/variables_and_operators.html","/code/language/","/code/rtos/","/code/stm32/","/course/random_process/","/machine_learning/lesson_one/","/machine_learning/lesson_two/","/os/ubuntu/","/os/ubuntu/query_ip_address.html","/os/ubuntu/replacement_source.html","/software/docker/","/software/docker/docker.html","/software/docker/nginx.html","/software/git/","/software/idea/","/software/idea/installation.html","/software/nvm/","/software/vim/","/software/vim/common_commands.html","/software/vscode/","/software/vscode/custom_code_snippets.html","/code/front_end/bootstrap/","/code/front_end/bootstrap/basics.html","/code/front_end/bootstrap/common.html","/code/front_end/css2/","/code/front_end/css2/css_basics.html","/code/front_end/css2/css_box_model.html","/code/front_end/css2/css_common_properties.html","/code/front_end/css2/css_selector.html","/code/front_end/css2/css_three_features.html","/code/front_end/css2/float.html","/code/front_end/css2/layout.html","/code/front_end/css2/position.html","/code/front_end/css3/","/code/front_end/css3/css3_basic_syntax.html","/code/front_end/css3/css3_introduction.html","/code/front_end/element_plus/","/code/front_end/element_plus/basics.html","/code/front_end/html4/","/code/front_end/html4/html_Introduction.html","/code/front_end/html4/html_basics.html","/code/front_end/html4/html_start.html","/code/front_end/html4/preparatory_work.html","/code/front_end/html4/prior_knowledge.html","/code/front_end/html5/HTML5_introduction.html","/code/front_end/html5/","/code/front_end/html5/html5_add_multimedia_tags.html","/code/front_end/html5/html5_added_semantic_tags.html","/code/front_end/html5/html5_compatibility_process.html","/code/front_end/html5/html5_new_form_function.html","/code/front_end/html5/html5_new_global_properties.html","/code/front_end/vue3/","/code/front_end/vue3/vue3.html","/code/rtos/oneos/1.html","/code/rtos/oneos/","/code/rtos/rt-thread/1.html","/code/rtos/rt-thread/","/code/stm32/hal/1.html","/code/stm32/hal/","/course/random_process/chapter_one/1.1.html","/course/random_process/chapter_one/","/machine_learning/lesson_one/week_one/","/machine_learning/lesson_one/week_three/1.1_motivation_and_purpose.html","/machine_learning/lesson_one/week_three/1.2_Logistic_regression.html","/machine_learning/lesson_one/week_three/1.3_decision_boundary.html","/machine_learning/lesson_one/week_three/2.1_Cost_Function_for_Logistic_Regression.html","/machine_learning/lesson_one/week_three/2.2_Simplified_Cost_Function.html","/machine_learning/lesson_one/week_three/3.1_Gradient_Descent_Implementation.html","/machine_learning/lesson_one/week_three/4.1_The_Problem_of_Overfitting.html","/machine_learning/lesson_one/week_three/4.2_Addressing_Overfitting.html","/machine_learning/lesson_one/week_three/4.3_Cost_Function_with_Regularization.html","/machine_learning/lesson_one/week_three/4.4_Regularized_linear_regression.html","/machine_learning/lesson_one/week_three/4.5_Regularized_logistic_regression.html","/machine_learning/lesson_one/week_three/","/machine_learning/lesson_one/week_two/2.6_polynomial_regression.html","/machine_learning/lesson_one/week_two/","/machine_learning/lesson_two/week_one/1.2_Neurons_and_brain.html","/machine_learning/lesson_two/week_one/1.3_Demand%20Prediction.html","/machine_learning/lesson_two/week_one/1.4_Example_Recognizing_lmages.html","/machine_learning/lesson_two/week_one/2.1_Neural_network_layer.html","/machine_learning/lesson_two/week_one/2.2_More_complex_neural_network.html","/machine_learning/lesson_two/week_one/2.3_forward_propagation.html","/machine_learning/lesson_two/week_one/3.1_Inference_in_Code.html","/machine_learning/lesson_two/week_one/3.2_Data_in_TensorFlow.html","/404.html","/machine_learning/lesson_two/week_one/","/category/","/category/%E8%AF%BE%E7%A8%8B/","/category/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/","/category/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","/category/%E8%BD%AF%E4%BB%B6%E6%95%99%E7%A8%8B/","/category/%E5%89%8D%E7%AB%AF/","/category/java/","/category/%E6%95%99%E7%A8%8B/","/category/%E5%AE%9E%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","/category/docker/","/category/nginx/","/category/git/","/category/nvm/","/category/bootstrap/","/category/language/","/category/html/","/category/oneos-lite/","/category/rt-thread/","/tag/","/tag/%E8%AF%BE%E7%A8%8B/","/tag/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/","/tag/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","/tag/%E8%BD%AF%E4%BB%B6%E6%95%99%E7%A8%8B/","/tag/language/","/tag/css/","/tag/%E5%89%8D%E7%AB%AF/","/tag/%E9%A1%B9%E7%9B%AE/","/tag/java-%E5%9F%BA%E7%A1%80/","/tag/%E5%AE%9E%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","/tag/ubuntu/","/tag/docker/","/tag/nginx/","/tag/git/","/tag/idea/","/tag/nvm/","/tag/vim/","/tag/vscode/","/tag/element-plus/","/tag/html/","/tag/vue/","/tag/oneos-lite/","/tag/rt-thread/","/tag/%E9%9A%8F%E6%9C%BA%E8%BF%87%E7%A8%8B/","/article/","/star/","/timeline/"],ke="SEARCH_PRO_QUERY_HISTORY",p=z(ke,[]),Ae=()=>{const{queryHistoryCount:s}=D,a=s>0;return{enabled:a,queryHistory:p,addQueryHistory:n=>{a&&(p.value=Array.from(new Set([n,...p.value.slice(0,s-1)])))},removeQueryHistory:n=>{p.value=[...p.value.slice(0,n),...p.value.slice(n+1)]}}},q=s=>Be[s.id]+("anchor"in s?`#${s.anchor}`:""),De="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:$}=D,y=z(De,[]),be=()=>{const s=$>0;return{enabled:s,resultHistory:y,addResultHistory:a=>{if(s){const n={link:q(a),display:a.display};"header"in a&&(n.header=a.header),y.value=[n,...y.value.slice(0,$-1)]}},removeResultHistory:a=>{y.value=[...y.value.slice(0,a),...y.value.slice(a+1)]}}},Re=s=>{const a=de(),n=M(),b=he(),r=Q(0),E=A(()=>r.value>0),m=me([]);return ve(()=>{const{search:v,terminate:R}=ge(),f=we(u=>{const w=u.join(" "),{searchFilter:H=h=>h,splitWord:F,suggestionsFilter:L,...g}=a.value;w?(r.value+=1,v(u.join(" "),n.value,g).then(h=>H(h,w,n.value,b.value)).then(h=>{r.value-=1,m.value=h}).catch(h=>{console.warn(h),r.value-=1,r.value||(m.value=[])})):m.value=[]},D.searchDelay-D.suggestDelay);U([s,n],([u])=>f(u),{immediate:!0}),pe(()=>{R()})}),{isSearching:E,results:m}};var Fe=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(s,{emit:a}){const n=oe(),b=M(),r=se(ae),{enabled:E,addQueryHistory:m,queryHistory:v,removeQueryHistory:R}=Ae(),{enabled:f,resultHistory:u,addResultHistory:w,removeResultHistory:H}=be(),F=E||f,L=ne(s,"queries"),{results:g,isSearching:h}=Re(L),l=le({isQuery:!0,index:0}),_=Q(0),d=Q(0),S=A(()=>F&&(v.value.length>0||u.value.length>0)),C=A(()=>g.value.length>0),x=A(()=>g.value[_.value]||null),Y=()=>{const{isQuery:e,index:t}=l;t===0?(l.isQuery=!e,l.index=e?u.value.length-1:v.value.length-1):l.index=t-1},G=()=>{const{isQuery:e,index:t}=l;t===(e?v.value.length-1:u.value.length-1)?(l.isQuery=!e,l.index=0):l.index=t+1},N=()=>{_.value=_.value>0?_.value-1:g.value.length-1,d.value=x.value.contents.length-1},J=()=>{_.value=_.value<g.value.length-1?_.value+1:0,d.value=0},K=()=>{d.value<x.value.contents.length-1?d.value+=1:J()},V=()=>{d.value>0?d.value-=1:N()},j=e=>e.map(t=>Ee(t)?t:o(t[0],t[1])),W=e=>{if(e.type==="customField"){const t=ye[e.index]||"$content",[i,k=""]=fe(t)?t[b.value].split("$content"):t.split("$content");return e.display.map(c=>o("div",j([i,...c,k])))}return e.display.map(t=>o("div",j(t)))},B=()=>{_.value=0,d.value=0,a("updateQuery",""),a("close")},X=()=>E?o("ul",{class:"search-pro-result-list"},o("li",{class:"search-pro-result-list-item"},[o("div",{class:"search-pro-result-title"},r.value.queryHistory),v.value.map((e,t)=>o("div",{class:["search-pro-result-item",{active:l.isQuery&&l.index===t}],onClick:()=>{a("updateQuery",e)}},[o(T,{class:"search-pro-result-type"}),o("div",{class:"search-pro-result-content"},e),o("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:i=>{i.preventDefault(),i.stopPropagation(),R(t)}})]))])):null,Z=()=>f?o("ul",{class:"search-pro-result-list"},o("li",{class:"search-pro-result-list-item"},[o("div",{class:"search-pro-result-title"},r.value.resultHistory),u.value.map((e,t)=>o(P,{to:e.link,class:["search-pro-result-item",{active:!l.isQuery&&l.index===t}],onClick:()=>{B()}},()=>[o(T,{class:"search-pro-result-type"}),o("div",{class:"search-pro-result-content"},[e.header?o("div",{class:"content-header"},e.header):null,o("div",e.display.map(i=>j(i)).flat())]),o("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:i=>{i.preventDefault(),i.stopPropagation(),H(t)}})]))])):null;return re("keydown",e=>{if(s.isFocusing){if(C.value){if(e.key==="ArrowUp")V();else if(e.key==="ArrowDown")K();else if(e.key==="Enter"){const t=x.value.contents[d.value];m(s.queries.join(" ")),w(t),n.push(q(t)),B()}}else if(f){if(e.key==="ArrowUp")Y();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const{index:t}=l;l.isQuery?(a("updateQuery",v.value[t]),e.preventDefault()):(n.push(u.value[t].link),B())}}}}),U([_,d],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>o("div",{class:["search-pro-result-wrapper",{empty:s.queries.length?!C.value:!S.value}],id:"search-pro-results"},s.queries.length?h.value?o(ie,{hint:r.value.searching}):C.value?o("ul",{class:"search-pro-result-list"},g.value.map(({title:e,contents:t},i)=>{const k=_.value===i;return o("li",{class:["search-pro-result-list-item",{active:k}]},[o("div",{class:"search-pro-result-title"},e||r.value.defaultTitle),t.map((c,ee)=>{const I=k&&d.value===ee;return o(P,{to:q(c),class:["search-pro-result-item",{active:I,"aria-selected":I}],onClick:()=>{m(s.queries.join(" ")),w(c),B()}},()=>[c.type==="text"?null:o(c.type==="title"?ce:c.type==="heading"?ue:_e,{class:"search-pro-result-type"}),o("div",{class:"search-pro-result-content"},[c.type==="text"&&c.header?o("div",{class:"content-header"},c.header):null,o("div",W(c))])])})])})):r.value.emptyResult:F?S.value?[X(),Z()]:r.value.emptyHistory:r.value.emptyResult)}});export{Fe as default};
